<?xml version="1.0" encoding="UTF-8"?>
<aiml version="2.0">

<category>
    <pattern>OKAY</pattern>
    <template>
    	<think>
            <set name="question1">Who is the person you are having problem with?</set>
            <set name="question2">Can you describe the problem from someone's point of view who was not involved in it?</set>
            <set name="question3">How do you describe this problem?</set>
            <set name="question4">How does <get name = "person_name"/> describe it?</set>
            <set name="question5">Why do you see the problem that way?</set>
            <set name="question6">Why does <get name = "person_name"/> see the problem that way?</set>
            <set name="question7">What/How do you feel about it?</set>
            <set name="question8">What kind of thoughts did you have about it?</set>
            <set name="question9">Thank you for your response, type END to end session</set>
            <set name="responses">Session Responses: </set>
            <set name="qnum">1</set>
    	</think>
	    <srai>Activity1Loop</srai>
    </template>
</category>
	
<category>
    <pattern>Activity1Loop</pattern>
    <template>
        <think>
            <set name="question"><get><name>question<get name="qnum"/></name></get></set>
        </think>
        <condition name="question">
            <li value="unknown"><srai>EndSession</srai></li>
            <li><think><set name="topic">SESSION</set></think><get name="question"/></li>
        </condition>
    </template>
</category>

<topic name="SESSION">
<category>
    <pattern>_</pattern>
    <template>
        <think>
            <set name="topic"></set>
            <set name="responses"><get name="responses"/> --- <star/></set>
            <set name="qnum"><map name="successor"><get name="qnum"/></map></set>
        </think>
        <srai>Activity1Loop</srai>
    </template>
</category>  
</topic>

<category>
    <pattern>EndSession</pattern>
    <template>
        That's the end of the session
    </template>
</category>

<category>
    <pattern>*</pattern>
    <that>Who is the person you are having problem with?</that>
    <set name = "person_name"> <star/> </set>
</category>

</aiml>